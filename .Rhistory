# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
# Function to check and install missing packages
install_and_verify <- function(pkg_list) {
# Install missing packages
for (pkg in pkg_list) {
if (!requireNamespace(pkg, quietly = TRUE)) {
install.packages(pkg)
}
}
# Verify installation
installed_status <- sapply(pkg_list, requireNamespace, quietly = TRUE)
# Report results
if (all(installed_status)) {
message("All packages are properly installed and ready to use!")
} else {
message("The following packages failed to install or load properly:")
print(names(installed_status[!installed_status]))
}
}
# Run the installation and verification process
install_and_verify(packages)
# Optionally, load all installed packages (uncomment if needed)
# lapply(packages, library, character.only = TRUE)
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
missing_packages
#windowsOS checker for dependent directory
if (Sys.info()['sysname'] == "Windows") {
if (Sys.info()['nodename'] == "DegreeLaptop" || Sys.getenv('USERNAME') == "Degree Laptop") {
setwd("C:/Users/Degree Laptop/Desktop/Spring 2025/3 - Econ 256 (Data Vis)/exercise1")}
else if (Sys.info()['nodename'] == "Michael" || Sys.getenv('USERNAME') == "Michael") {
setwd("C:/Users/Michael/Desktop/Spring 2025/3 - Econ 256/R Studio Files/Econ256/exercise1")}
#LinuxOS Checker
} else if (Sys.info()['sysname'] == "Linux") {
setwd("~/Desktop/R Files/Econ256")
#macOS check
} else if (Sys.info()['sysname'] == "Darwin") {
setwd("~/Desktop/Spring 2025/3 - Econ 256")}
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
missing_packages
setwd("G:\Shared drives\School Stuff\Old Sessions\9 - Spring 2026\02 - Econ 699 (Golf Course)")}
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
missing_packages
setwd("G:\Shared drives\School Stuff\Old Sessions\9 - Spring 2026\02 - Econ 699 (Golf Course)")}
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
missing_packages
setwd("G:\Shared drives\School Stuff\Old Sessions\9 - Spring 2026\02 - Econ 699 (Golf Course)")}
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
missing_packages
setwd("G:\Shared drives\School Stuff\Old Sessions\9 - Spring 2026\02 - Econ 699 (Golf Course)")
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
missing_packages
setwd("G:\Shared drives\School Stuff\Old Sessions\9 - Spring 2026\02 - Econ 699 (Golf Course)")
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
missing_packages
setwd("G:\Shared drives\School Stuff\Old Sessions\9 - Spring 2026\02 - Econ 699 (Golf Course)")
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
missing_packages
setwd("G:\Shared drives\School Stuff\Old Sessions\9 - Spring 2026\02 - Econ 699 (Golf Course)")
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
setwd("G:\Shared drives\School Stuff\Old Sessions\9 - Spring 2026\02 - Econ 699 (Golf Course)")
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
setwd("G:/Shared drives/School Stuff/Old Sessions/9 - Spring 2026/02 - Econ 699 (Golf Course)")
#Output the result for packages
if (length(missing_packages) > 0) {
print("The following packages are missing:")
print(missing_packages)
stop("Required packages are missing. Please install them and try again.")
} else {
print("There are no missing packages.")
}
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
#Output the result for packages
if (length(missing_packages) > 0) {
print("The following packages are missing:")
print(missing_packages)
stop("Required packages are missing. Please install them and try again.")
} else {
print("There are no missing packages.")
}
library(tidyverse)
setwd('G:\Shared drives\School Stuff\Old Sessions\9 - Spring 2026\02 - Econ 699 (Golf Course)\3 - Work\Cleaned Data')
setwd('G:/Shared drives/School Stuff/Old Sessions/9 - Spring 2026/02 - Econ 699 (Golf Course)/3 - Work/Cleaned Data')
library(tidyverse)
setwd('G:/Shared drives/School Stuff/Old Sessions/9 - Spring 2026/02 - Econ 699 (Golf Course)/3 - Work/Cleaned Data')
raw_data <- tribble(
~X1, ~X2, ~X3, ~X4,
-151.820102, 59.773222, "Fireweed Meadows Golf Course-Anchor Point,AK", "(Public) (9 Holes), Mylofritz Ave, Anchor Point,AK 99556, (907) 226-2582",
-149.814495, 61.127089, "Anchorage Golf Course-Anchorage,AK", "(Public) (18 Holes), 3651 Omalley Rd, Anchorage,AK 99507-4266, (907) 522-3363",
-149.788303, 61.206435, "Russian Jack Springs Golf Course-Anchorage,AK", "(Municipal) (9 Holes), 1600 Lidia Selkregg Ln, Anchorage,AK 99508-3131, (907) 343-6992"
)
clean_data <- raw_data %>%
# 1. Rename the coordinate columns (A and B)
rename(
longitude = X1,
latitude = X2,
raw_name_loc = X3,
raw_details = X4
) %>%
library(tidyverse)
library(tidyverse)
setwd('G:/Shared drives/School Stuff/Old Sessions/9 - Spring 2026/02 - Econ 699 (Golf Course)/3 - Work/Cleaned Data')
# -------------------------------------------------------------------------
# STEP 1: LOAD DATA
# -------------------------------------------------------------------------
# NOTE: Replace the line below with: raw_data <- read_csv("your_file.csv", col_names = FALSE)
# I am creating dummy data here to match your image for demonstration.
raw_data <- tribble(
~X1, ~X2, ~X3, ~X4,
-151.820102, 59.773222, "Fireweed Meadows Golf Course-Anchor Point,AK", "(Public) (9 Holes), Mylofritz Ave, Anchor Point,AK 99556, (907) 226-2582",
-149.814495, 61.127089, "Anchorage Golf Course-Anchorage,AK", "(Public) (18 Holes), 3651 Omalley Rd, Anchorage,AK 99507-4266, (907) 522-3363",
-149.788303, 61.206435, "Russian Jack Springs Golf Course-Anchorage,AK", "(Municipal) (9 Holes), 1600 Lidia Selkregg Ln, Anchorage,AK 99508-3131, (907) 343-6992"
)
# -------------------------------------------------------------------------
# STEP 2: CLEANING PIPELINE
# -------------------------------------------------------------------------
clean_data <- raw_data %>%
# 1. Rename the coordinate columns (A and B)
rename(
longitude = X1,
latitude = X2,
raw_name_loc = X3,
raw_details = X4
) %>%
# 2. Split Column C (Name-City,State)
# We separate at the LAST hyphen found to avoid breaking names with hyphens in them
separate(raw_name_loc, into = c("course_name", "location_temp"), sep = "-(?=[^-]+$)", extra = "merge") %>%
separate(location_temp, into = c("city", "state"), sep = ",") %>%
# 3. Extract details from Column D using Regex
mutate(
# Extract "Public", "Municipal", etc. (First item in parens)
course_type = str_extract(raw_details, "^\\(.*?\\)"),
# Remove parens for cleaner look
course_type = str_remove_all(course_type, "[()]"),
# Extract Holes (Second item in parens)
holes = str_extract(raw_details, "(?<=\\)\\s)\\((.*?)\\)"),
holes = str_remove_all(holes, "[()]"),
# Extract Phone Number (Assumes it is at the very end of the string)
phone = str_extract(raw_details, "\\(?\\d{3}\\)?[-. ]?\\d{3}[-. ]?\\d{4}$"),
# Extract Address:
# We take the raw string and remove the Type, Holes, and Phone to leave the address
address = raw_details %>%
str_remove("^\\(.*?\\)\\s+\\(.*?\\),\\s+") %>% # Remove Type, Holes and leading comma/space
str_remove(",\\s+\\(?\\d{3}\\)?[-. ]?\\d{3}[-. ]?\\d{4}$") # Remove trailing comma and phone
) %>%
# 4. Final Cleanup: Select only the columns we want in order
select(course_name, city, state, course_type, holes, address, phone, longitude, latitude)
# -------------------------------------------------------------------------
# STEP 3: VIEW RESULTS
# -------------------------------------------------------------------------
print(clean_data)
# To save this to a new CSV:
# write_csv(clean_data, "cleaned_golf_courses.csv")
View(clean_data)
library(tidyverse)
setwd('G:/Shared drives/School Stuff/Old Sessions/9 - Spring 2026/02 - Econ 699 (Golf Course)/3 - Work/Cleaned Data')
# -------------------------------------------------------------------------
# STEP 1: LOAD DATA
# -------------------------------------------------------------------------
# Replace with: raw_data <- read_csv("your_file.csv", col_names = FALSE)
raw_data <- tribble(
~X1, ~X2, ~X3, ~X4,
-151.820102, 59.773222, "Fireweed Meadows Golf Course-Anchor Point,AK", "(Public) (9 Holes), Mylofritz Ave, Anchor Point,AK 99556, (907) 226-2582",
-149.814495, 61.127089, "Anchorage Golf Course-Anchorage,AK", "(Public) (18 Holes), 3651 Omalley Rd, Anchorage,AK 99507-4266, (907) 522-3363",
-149.788303, 61.206435, "Russian Jack Springs Golf Course-Anchorage,AK", "(Municipal) (9 Holes), 1600 Lidia Selkregg Ln, Anchorage,AK 99508-3131, (907) 343-6992"
)
# -------------------------------------------------------------------------
# STEP 2: CLEANING PIPELINE
# -------------------------------------------------------------------------
clean_data <- raw_data %>%
# 1. Rename coordinates
rename(
longitude = X1,
latitude = X2,
raw_name_loc = X3,
raw_details = X4
) %>%
# 2. Split Name, City, State from Column C
separate(raw_name_loc, into = c("course_name", "location_temp"), sep = "-(?=[^-]+$)", extra = "merge") %>%
separate(location_temp, into = c("city", "state"), sep = ",") %>%
# 3. Extract Details from Column D
mutate(
# Type: Text inside first parens
course_type = str_extract(raw_details, "^\\(.*?\\)"),
course_type = str_remove_all(course_type, "[()]"),
# Holes: Text inside second parens
holes = str_extract(raw_details, "(?<=\\)\\s)\\((.*?)\\)"),
holes = str_remove_all(holes, "[()]"),
# Phone: Pattern at end of string
phone = str_extract(raw_details, "\\(?\\d{3}\\)?[-. ]?\\d{3}[-. ]?\\d{4}$"),
# Zip Code: Look for 5 digits, optional dash, 4 digits
zip_code = str_extract(raw_details, "\\b\\d{5}(?:-\\d{4})?\\b"),
# Street Address:
# Logic: Look for text AFTER the "), " and BEFORE the next comma ","
# This isolates "Mylofritz Ave" from "(9 Holes), Mylofritz Ave, Anchor Point..."
street_address = str_extract(raw_details, "(?<=\\), ).+?(?=,)")
) %>%
# 4. Final Selection & Ordering
select(course_name, street_address, city, state, zip_code, course_type, holes, phone, longitude, latitude)
# -------------------------------------------------------------------------
# STEP 3: VIEW RESULTS
# -------------------------------------------------------------------------
print(clean_data)
View(clean_data)
library(tidyverse)
setwd('G:/Shared drives/School Stuff/Old Sessions/9 - Spring 2026/02 - Econ 699 (Golf Course)/3 - Work/Cleaned Data')
# STEP 1: sample data
# Replace with: raw_data <- read_csv("your_file.csv", col_names = FALSE)
raw_data <- tribble(
~X1, ~X2, ~X3, ~X4,
-151.820102, 59.773222, "Fireweed Meadows Golf Course-Anchor Point,AK", "(Public) (9 Holes), Mylofritz Ave, Anchor Point,AK 99556, (907) 226-2582",
-149.814495, 61.127089, "Anchorage Golf Course-Anchorage,AK", "(Public) (18 Holes), 3651 Omalley Rd, Anchorage,AK 99507-4266, (907) 522-3363",
-149.788303, 61.206435, "Russian Jack Springs Golf Course-Anchorage,AK", "(Municipal) (9 Holes), 1600 Lidia Selkregg Ln, Anchorage,AK 99508-3131, (907) 343-6992"
)
# STEP 2: CLEANING PIPELINE
clean_data <- raw_data %>%
# 1. Rename coordinates
rename(
longitude = X1,
latitude = X2,
raw_name_loc = X3,
raw_details = X4
) %>%
# 2. Split Name, City, State from Column C
separate(raw_name_loc, into = c("course_name", "location_temp"), sep = "-(?=[^-]+$)", extra = "merge") %>%
separate(location_temp, into = c("city", "state"), sep = ",") %>%
# 3. Extract Details from Column D
mutate(
# Type: Text inside first parens
course_type = str_extract(raw_details, "^\\(.*?\\)"),
course_type = str_remove_all(course_type, "[()]"),
# Holes: Text inside second parens
holes = str_extract(raw_details, "(?<=\\)\\s)\\((.*?)\\)"),
holes = str_remove_all(holes, "[()]"),
# Phone: Pattern at end of string
phone = str_extract(raw_details, "\\(?\\d{3}\\)?[-. ]?\\d{3}[-. ]?\\d{4}$"),
# Zip Code: Look for 5 digits, optional dash, 4 digits
zip_code = str_extract(raw_details, "\\b\\d{5}(?:-\\d{4})?\\b"),
# Street Address:
street_address = str_extract(raw_details, "(?<=\\), ).+?(?=,)")
) %>%
# 4. Final Selection & Ordering
select(course_name, street_address, city, state, zip_code, course_type, holes, phone, longitude, latitude)
print(clean_data)
library(tidyverse)
# -------------------------------------------------------------------------
# STEP 1: SETUP & IMPORT
# -------------------------------------------------------------------------
# Set the working directory
setwd('G:/Shared drives/School Stuff/Old Sessions/9 - Spring 2026/02 - Econ 699 (Golf Course)/3 - Work/Cleaned Data')
# Read the actual CSV file
# col_names = FALSE tells R that the first row is data, not headers
raw_data <- read_csv("Golf Courses-USA.csv", col_names = FALSE, show_col_types = FALSE)
# -------------------------------------------------------------------------
# STEP 2: CLEANING PIPELINE
# -------------------------------------------------------------------------
clean_data <- raw_data %>%
# 1. Rename coordinates (Assumes columns are in the order: Long, Lat, Name-Loc, Details)
rename(
longitude = X1,
latitude = X2,
raw_name_loc = X3,
raw_details = X4
) %>%
# 2. Split Name, City, State from Column C
separate(raw_name_loc, into = c("course_name", "location_temp"), sep = "-(?=[^-]+$)", extra = "merge") %>%
separate(location_temp, into = c("city", "state"), sep = ",") %>%
# 3. Extract Details from Column D
mutate(
# Type: Text inside first parens
course_type = str_extract(raw_details, "^\\(.*?\\)"),
course_type = str_remove_all(course_type, "[()]"),
# Holes: Text inside second parens
holes = str_extract(raw_details, "(?<=\\)\\s)\\((.*?)\\)"),
holes = str_remove_all(holes, "[()]"),
# Phone: Pattern at end of string
phone = str_extract(raw_details, "\\(?\\d{3}\\)?[-. ]?\\d{3}[-. ]?\\d{4}$"),
# Zip Code: Look for 5 digits, optional dash, 4 digits
zip_code = str_extract(raw_details, "\\b\\d{5}(?:-\\d{4})?\\b"),
# Street Address:
# Logic: Look for text AFTER the "), " and BEFORE the next comma ","
street_address = str_extract(raw_details, "(?<=\\), ).+?(?=,)")
) %>%
# 4. Final Selection & Ordering
select(course_name, street_address, city, state, zip_code, course_type, holes, phone, longitude, latitude)
# -------------------------------------------------------------------------
# STEP 3: VIEW & SAVE RESULTS
# -------------------------------------------------------------------------
# Check the first few rows to ensure it worked
print(head(clean_data))
# Save the cleaned data to a new file in the same folder
write_csv(clean_data, "Golf_Courses_Cleaned.csv")
print("Cleaning complete. File saved as 'Golf_Courses_Cleaned.csv'")
View(clean_data)
library(tidyverse)
# Stage 1: Staging and Importing ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Set the working directory
setwd('G:/Shared drives/School Stuff/Old Sessions/9 - Spring 2026/02 - Econ 699 (Golf Course)/3 - Work/Cleaned Data')
# CSV Summoning
raw_data <- read_csv("Golf Courses-USA.csv", col_names = FALSE, show_col_types = FALSE)
# Stage 2: The Golf Pipeline ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
clean_data <- raw_data %>%
# 1. Rename coordinates (Assumes columns are in the order: Long, Lat, Name-Loc, Details)
rename(
longitude = X1,
latitude = X2,
raw_name_loc = X3,
raw_details = X4
) %>%
# 2. Split Name, City, State from Column C
separate(raw_name_loc, into = c("course_name", "location_temp"), sep = "-(?=[^-]+$)", extra = "merge") %>%
separate(location_temp, into = c("city", "state"), sep = ",") %>%
# 3. Extract Details from Column D
mutate(
# Type: Text inside first parens
course_type = str_extract(raw_details, "^\\(.*?\\)"),
course_type = str_remove_all(course_type, "[()]"),
# Holes: Text inside second parens
holes = str_extract(raw_details, "(?<=\\)\\s)\\((.*?)\\)"),
holes = str_remove_all(holes, "[()]"),
# Phone: Pattern at end of string
phone = str_extract(raw_details, "\\(?\\d{3}\\)?[-. ]?\\d{3}[-. ]?\\d{4}$"),
# Zip Code: Look for 5 digits, optional dash, 4 digits
zip_code = str_extract(raw_details, "\\b\\d{5}(?:-\\d{4})?\\b"),
# Street Address:
# Logic: Look for text AFTER the "), " and BEFORE the next comma ","
street_address = str_extract(raw_details, "(?<=\\), ).+?(?=,)")
) %>%
# 4. Final Selection & Ordering
select(course_name, street_address, city, state, zip_code, course_type, holes, phone, longitude, latitude)
# Stage 3: Results ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Check the first few rows to ensure it worked
print(head(clean_data))
# Save the cleaned data to a new file in the same folder
write_csv(clean_data, "Golf_Courses_Cleaned.csv")
print("Cleaning complete. File saved as 'Golf_Courses_Cleaned.csv'")
View(clean_data)
View(raw_data)
View(clean_data)
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
#Output the result for packages
if (length(missing_packages) > 0) {
print("The following packages are missing:")
print(missing_packages)
stop("Required packages are missing. Please install them and try again.")
} else {
print("There are no missing packages.")
}
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
missing_packages
#Output the result for packages
if (length(missing_packages) > 0) {
print("The following packages are missing:")
print(missing_packages)
stop("Required packages are missing. Please install them and try again.")
} else {
print("There are no missing packages.")
}
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
#Output the result for packages
if (length(missing_packages) > 0) {
print("The following packages are missing:")
print(missing_packages)
stop("Required packages are missing. Please install them and try again.")
} else {
print("There are no missing packages.")
}
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus", "readxl")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
#Output the result for packages
if (length(missing_packages) > 0) {
print("The following packages are missing:")
print(missing_packages)
stop("Required packages are missing. Please install them and try again.")
} else {
print("There are no missing packages.")
}
# List of packages to install and verify
packages <- c("tidyverse", "wooldridge", "plotly", "sf", "leaflet", "tidycensus", "readxl")
missing_packages <- packages[!sapply(packages, requireNamespace, quietly = TRUE)]
#Output the result for packages
if (length(missing_packages) > 0) {
print("The following packages are missing:")
print(missing_packages)
stop("Required packages are missing. Please install them and try again.")
} else {
print("There are no missing packages.")
}
library(tidyverse)
# Stage 1: Staging and Importing ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Set the working directory
setwd('G:/Shared drives/School Stuff/Old Sessions/9 - Spring 2026/02 - Econ 699 (Golf Course)/3 - Work/Cleaned Data')
# CSV Summoning
raw_data <- read_csv("Golf Courses-USA.csv", col_names = FALSE, show_col_types = FALSE)
# Stage 2: The Golf Pipeline ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
clean_data <- raw_data %>%
# 1. Rename coordinates (Assumes columns are in the order: Long, Lat, Name-Loc, Details)
rename(
longitude = X1,
latitude = X2,
raw_name_loc = X3,
raw_details = X4
) %>%
# 2. Split Name, City, State from Column C
separate(raw_name_loc, into = c("course_name", "location_temp"), sep = "-(?=[^-]+$)", extra = "merge") %>%
separate(location_temp, into = c("city", "state"), sep = ",") %>%
# 3. Extract Details from Column D
mutate(
# Type: Text inside first parens
course_type = str_extract(raw_details, "^\\(.*?\\)"),
course_type = str_remove_all(course_type, "[()]"),
# Holes: Text inside second parens
holes = str_extract(raw_details, "(?<=\\)\\s)\\((.*?)\\)"),
holes = str_remove_all(holes, "[()]"),
# Phone: Pattern at end of string
phone = str_extract(raw_details, "\\(?\\d{3}\\)?[-. ]?\\d{3}[-. ]?\\d{4}$"),
# Zip Code: Look for 5 digits, optional dash, 4 digits
zip_code = str_extract(raw_details, "\\b\\d{5}(?:-\\d{4})?\\b"),
# Street Address:
# Logic: Look for text AFTER the "), " and BEFORE the next comma ","
street_address = str_extract(raw_details, "(?<=\\), ).+?(?=,)")
) %>%
# 4. Final Selection & Ordering
select(course_name, street_address, city, state, zip_code, course_type, holes, phone, longitude, latitude)
# Stage 3: Results ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Check the first few rows to ensure it worked
print(head(clean_data))
# Save the cleaned data to a new file in the same folder
write_csv(clean_data, "Golf_Courses_Cleaned.csv")
print("Cleaning complete. File saved as 'Golf_Courses_Cleaned.csv'")
